; Tests the XCHG instruction
	LOAD32	R0, @12345
	LOAD32	R1, @12346
	LOAD32	R2, @12345
	LOAD32	R3, @12346

	XCHG	R0, RB
	XCHG	R1, RA
	CMP	RB, R2
	FAILNZ	0x01
	CMP	RA, R3
	FAILNZ	0x02

	XCHG	R0, RB
	XCHG	R1, RA
	CMP	R0, R2
	FAILNZ	0x03
	CMP	R1, R3
	FAILNZ	0x04

	STOP
